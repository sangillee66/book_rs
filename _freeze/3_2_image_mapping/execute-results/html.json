{
  "hash": "d0a15a82659824a02052ba79d123bb40",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"영상 매핑\"\nauthor: Sang-Il Lee\ndate-modified: last-modified\nnumber-sections: true\nformat: \n  html: \n    toc: true\ncode-link: true\ncode-copy: true\nlightbox: true\nexecute: \n  warning: false\n  error: false\n  freeze: auto\neditor: visual\neditor_options: \n  chunk_output_type: console\n---\n\n\n## 개요\n\n필수적인 패키지를 설치한다. RS 영상의 기본적으로 래스터 데이터이므로 `terra` 패키지를 사용하여 기본적인 오퍼레이션을 수행한다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(terra)\nlibrary(tidyterra)\nlibrary(sf)\nlibrary(tmap)\noptions(scipen = 999)\n```\n:::\n\n\n서울의 행정구역 바운더리 파일을 불러온다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseoul <- st_read(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/2 Original Cleaning/2023_2Q/SEOUL_SIDO_2023_2Q.shp\")\nseoul_gu <- st_read(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/2 Original Cleaning/2023_2Q/SEOUL_GU_2023_2Q.shp\")\nseoul_dong <- st_read(\"D:/My R/Korean Administrative Areas/행정구역 셰이프 파일/2 Original Cleaning/2023_2Q/SEOUL_EMD_2023_2Q.shp\")\n```\n:::\n\n\nLevel-2 데이터를 불러와 마스킹한다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevel2_landsat_seoul_st <- rast(\"D:/My R/World Data Manupulation/USGS EarthExplorer/level2_landsat_seoul_stack.tif\")\nlevel2_landsat_seoul_st_mask <- level2_landsat_seoul_st |> \n  mask(seoul)\n```\n:::\n\n\n대비 확장을 시행한다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevel2_landsat_seoul_st_mask_str <- level2_landsat_seoul_st_mask |> \n  stretch(minv = 0, maxv = 255, minq = 0.05, maxq = 0.95)\n```\n:::\n\n\n## 밴드 조합\n\n### 천연컬러(Natural Color)\n\nR(4, Red) + G(3, Green) + B(2, Blue) 조합의 영상을 생성한다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy.map <- tm_shape(level2_landsat_seoul_st_mask_str, \n                   raster.downsample = FALSE) + \n  tm_rgb(r = 4, g = 3, b = 2, legend.show = FALSE) +\n  tm_shape(seoul) + tm_borders(lwd = 2, col = \"gray20\") +\n  tm_layout(frame = TRUE, \n            title = \"Natural Color\", \n            title.size = 2, title.position = c(\"left\", \"top\"), \n            bg.color = \"white\", \n            inner.margins = c(0.05, 0.05, 0.05, 0.05)) +\n  tm_scale_bar(color.dark = \"gray60\", position = c(0.01, 0.01), \n               size = 0.6, breaks = seq(0, 20, 5)) + \n  tm_credits(\"SANG-IL LEE, Geography Education at SNU, 2025\", \n             size = 0.7)\nmy.map\n```\n\n::: {.cell-output-display}\n![](3_2_image_mapping_files/figure-html/unnamed-chunk-5-1.png){width=4500}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n### 컬러-적외선(Color-Infrared)\n\nR(5, NIR) + G(4, Red) + B(3, Green)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy.map <- tm_shape(level2_landsat_seoul_st_mask_str, \n                   raster.downsample = FALSE) + \n  tm_rgb(r = 5, g = 4, b = 3, legend.show = FALSE) +\n  tm_shape(seoul) + tm_borders(lwd = 2, col = \"gray20\") +\n  tm_layout(frame = TRUE, \n            title = \"Color Infrared\", \n            title.size = 2, title.position = c(\"left\", \"top\"), \n            bg.color = \"white\", \n            inner.margins = c(0.05, 0.05, 0.05, 0.05)) +\n  tm_scale_bar(color.dark = \"gray60\", position = c(0.01, 0.01), \n               size = 0.6, breaks = seq(0, 20, 5)) + \n  tm_credits(\"SANG-IL LEE, Geography Education at SNU, 2025\", \n             size = 0.7)\nmy.map\n```\n\n::: {.cell-output-display}\n![](3_2_image_mapping_files/figure-html/unnamed-chunk-7-1.png){width=4500}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n### 폴스-컬러(도시)\n\nR(7, SWIR2) + G(6, SWIR1) + B(4, Red)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy.map <- tm_shape(level2_landsat_seoul_st_mask_str, \n                   raster.downsample = FALSE) + \n  tm_rgb(r = 7, g = 6, b = 4, legend.show = FALSE) +\n  tm_shape(seoul) + tm_borders(lwd = 2, col = \"gray20\") +\n  tm_layout(frame = TRUE, \n            title = \"False Color (Urban)\", \n            title.size = 2, title.position = c(\"left\", \"top\"), \n            bg.color = \"white\", \n            inner.margins = c(0.05, 0.05, 0.05, 0.05)) +\n  tm_scale_bar(color.dark = \"gray60\", position = c(0.01, 0.01), \n               size = 0.6, breaks = seq(0, 20, 5)) + \n  tm_credits(\"SANG-IL LEE, Geography Education at SNU, 2025\", \n             size = 0.7)\nmy.map\n```\n\n::: {.cell-output-display}\n![](3_2_image_mapping_files/figure-html/unnamed-chunk-9-1.png){width=4500}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n### 폴스-컬러(식생 분석)\n\nR(6, SWIR1) + G(5, NIR) + B(4, Red)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy.map <- tm_shape(level2_landsat_seoul_st_mask_str, \n                   raster.downsample = FALSE) + \n  tm_rgb(r = 6, g = 5, b = 4, legend.show = FALSE) +\n  tm_shape(seoul) + tm_borders(lwd = 2, col = \"gray20\") +\n  tm_layout(frame = TRUE, \n            title = \"False Color (Vegitatitve Analysis)\", \n            title.size = 2, title.position = c(\"left\", \"top\"), \n            bg.color = \"white\", \n            inner.margins = c(0.05, 0.05, 0.05, 0.05)) +\n  tm_scale_bar(color.dark = \"gray60\", position = c(0.01, 0.01), \n               size = 0.6, breaks = seq(0, 20, 5)) + \n  tm_credits(\"SANG-IL LEE, Geography Education at SNU, 2025\", \n             size = 0.7)\nmy.map\n```\n\n::: {.cell-output-display}\n![](3_2_image_mapping_files/figure-html/unnamed-chunk-11-1.png){width=4500}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n### 폴스-컬러(단파 적외선)\n\nR(7, SWIR2) + G(5, NIR) + B(4, Red)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy.map <- tm_shape(level2_landsat_seoul_st_mask_str, \n                   raster.downsample = FALSE) + \n  tm_rgb(r = 7, g = 5, b = 4, legend.show = FALSE) +\n  tm_shape(seoul) + tm_borders(lwd = 2, col = \"gray20\") +\n  tm_layout(frame = TRUE, \n            title = \"Shortwave Infrared\", \n            title.size = 2, title.position = c(\"left\", \"top\"), \n            bg.color = \"white\", \n            inner.margins = c(0.05, 0.05, 0.05, 0.05)) +\n  tm_scale_bar(color.dark = \"gray60\", position = c(0.01, 0.01), \n               size = 0.6, breaks = seq(0, 20, 5)) + \n  tm_credits(\"SANG-IL LEE, Geography Education at SNU, 2025\", \n             size = 0.7)\nmy.map\n```\n\n::: {.cell-output-display}\n![](3_2_image_mapping_files/figure-html/unnamed-chunk-13-1.png){width=4500}\n:::\n:::\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "3_2_image_mapping_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}